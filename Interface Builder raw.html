<!doctype html>
<html>
<head>
<meta charset='UTF-8'><meta name='viewport' content='width=device-width initial-scale=1'>
<title>Interface Builder.md</title></head>
<body><h1>Interface Builder</h1>
<p>Interface builder is the tool within Xcode for creating a User Interface via a GUI. </p>
<h2>History</h2>
<p>Interface Builder has been around since 1988, in 2008 a special iPhone version of Interface Builder was released to allow for the building iPhone interfaces. As of Xcode 4 Interface Builder became integrated into Xcode, before this Interface Builder had been its own application.</p>
<p>Sometimes Interface Builder will be refered to as IB. In some cases you may find Interface Builder files called .xib or .nib, this stands for NeXT interface builder dating back to the NeXTSTEP company Steve Jobs created after leaving Apple.</p>
<p>Interface Builder had been used by Tim Berners-Lee to create the WorldWideWeb Browser back in 1990.</p>
<p></p>
<h2>Storyboards</h2>
<p>In previous versions of Xcode, a .nib files would be required for each View Controller, As of Xcode 4.2 Storyboards have been available.</p>
<p>One of the notable advantages of Storyboards is <em>Segues</em>, Segues allow for linking of View Controllers to other View Controllers within Interface Builders GUI. Previously linking View Controllers would have to be done via code, it is worth noting that you can still link View Controllers together with Code.</p>
<p></p>
<h2>Views</h2>
<p>When creating an Interface in Interface Builder, most of the time a View will be used. A View inherits or directly implements the <code>UIView</code> Class. A View on the Interface Builder is a rectangular area the handles drawing and touch/gesture events.</p>
<p>Most Objects in the Object library inherit from<code>UIView</code>, e.g. Button, TextField, Slider, ...</p>
<p>Views can and are typically nested, i.e. a View sits inside another View. The relationship between nested Views are described as a SuperView and a SubView, the Super being the outer and the Sub being the Inner.</p>
<p></p>
<h2>Auto Layout</h2>
<p>Auto Layout is a dynamic way of describing layouts of Views. This can be particularly helpful for designing interfaces that work well on all sizes of the iPhone, with Auto Layout the same described layout can be made to run well on a 4 inch screen threw to a 5.8 inch screen.</p>
<p>Auto Layout is a system of <em>Constraints</em> defining size and position of Views within their relative SuperView.</p>
<h3>Getting Started with Auto Layout</h3>
<p>Within Interface Builder, the toolbar at the bottom of the editor is where the Auto Layout Menus and Options can be found.</p>
<p></p>
<p><img src='images/bottom-toolbar.png' alt='Interface Builder Toolbar' /></p>
<p></p>
<p>On the left side of the toolbar the device that the editor is currently displaying on the editor, you can change the device to see how the interface will look for different devices. Clicking on the device brings up the options for device and Orientation of the device.</p>
<p></p>
<p><img src='images/bottom-toolbar-device.png' alt='Bottom toolbar device selector' /></p>
<p></p>
<p>Next to the iPhone device is the Size Class of the selected device in its orientation, for the iPhone 8 in portrait it is wC hR. This means, compact width and regular height. Changing the device to landscape results in the height becoming compact. Size classes can be used to alter the constraints applied to the Views.</p>
<p>On the left side of the toolbar, a collection of menu&#39;s and buttons can be found, from left to right:</p>
<ul>
<li>Update Frames, updates the view displayed on the editor with the current constraints applied</li>
<li>Embed in stack, this will place the selected views inside a Stack View</li>
<li>Alignment constraints</li>
<li>Height and Position constraints</li>
<li>Resolve auto layout issues button</li>

</ul>
<h3>Height and Position Constraints</h3>
<p>Starting with Height and Position constrains or &quot;A new layout constraint&quot;. </p>
<p></p>
<p><img src='images/new-constraint.png' alt='New Constraint' /></p>
<p>A new constraint can have a defined height and width, spacing to nearest neighbour and some additional constraints to be discussed later.</p>
<p></p>
<h3>Alignment Constraints</h3>
<p>Alignment constraints allow for positioning views aligned with one another. </p>
<p></p>
<p><img src='images/alignment-constraint.png' alt='Alignment Constraint' /></p>
<p></p>
<p>To activate this option, you need to <code>command</code> + <code>click</code> at least two Views from the left side toolbar.</p>
<p></p>
<p><img src='images/cmd-click-views.png' alt='Cmd Click Views' /></p>
<h3>Safe Area</h3>
<p>In Xcode 9 the <em>Safe Area</em> Layout Guide is available, think of this as a set of margins in which it is safe to draw content within. </p>
<p>To further illustrate, here is a View Controller root View with a background of Green and a subview that has been given a 0 point positioning to the layout guide edges. </p>
<p></p>
<p><img src='images/safe-area-constraints.png' alt='Zero Margin to Safe Area' /></p>
<p></p>
<p>The Subview has a black background, here is the the layout shown in Portrait</p>
<p></p>
<p><img src='images/safe-area-portrait.png' alt='Safe Area Portrait' /></p>
<p></p>
<p>As shown, the green colour around the edges of the back Subview indicates the Safe Layout Guide, here it the same View in Landscape</p>
<p></p>
<p><img src='images/safe-area-landscape.png' alt='safe-area-landscape' /></p>
<p></p>
<p>The safe area on the iPhone X does not encroach on home button and the <em>notch</em>, on the iPhone 8 the safe area is aligned to the edge of the device on the left, bottom and right sides. On the top side when the Top Bar is present, the safe area will be below this.</p>
<p>The safe area will also change when a Bottom Tab Bar or Navigation Bar is present.</p>
<p></p>
<h3>Aligning to Centres of Views</h3>
<p>To centre a View within its Superview, the alignment constraint can be used. This constrain in located within the alignment constraint menu.</p>
<p></p>
<p><img src='images/align-in-centre.png' alt='Align in Centre' /></p>
<p></p>
<p>When the device is rotated to landscape, the button will still be in the middle of the Superview.</p>
<p></p>
<h3>Relative Heights and Widths</h3>
<p>A height or width can be set to relate to another views height or width, to do this both views need to be selected in the left toolbar and a constraint applied in the Constraints Menu.</p>
<p>In this example I have a View inside a the root View, the Subview is called <code>GreenView</code></p>
<p></p>
<p><img src='images/view-inside-root-view.png' alt='align-in-centre' /></p>
<p></p>
<p>In the example the GreenView will have the same width as the root View and half the height of the root View. The View will be zero aligned to the top and left Safe Area.</p>
<p></p>
<p><img src='images/equal-width-constraint.png' alt='Equal Width Constraint' /></p>
<p></p>
<p>Take care to select both the Safe Area and GreenView is selected. Click Add 1 Constraint To Add the Constraint.</p>
<p>To set the height as half the width of the safe area, repeat the width constraint but for Equal Heights, then in the right side drawer under the Attribute Inspector set the Multiplier to be 0.5</p>
<p></p>
<p><img src='images/half-height-constraint.png' alt='Equal Width Constraint' /></p>
<p></p>
<p><strong>Task 1</strong></p>
<p>Create a new Projected Called LayoutApp1, implement the above example about applying all constraints However have your view aligned to the bottom of the safe area. Test to make sure that the project Works in Landscape and Portrait.</p>
<p></p>
<p>Example of the completed view:</p>
<p><img src='images/half-bottom-task.png' alt='Half Height Bottom Aligned' /></p>
<p></p>
<h3>Size Class Variation</h3>
<p>In some cases constraints may differ between size classes, for example in landscape a constraint may not be needed or should differ from than in landscape.</p>
<p>In this example, we shall work with the last task. In Portrait the height should be equal to half, however in Landscape the height should be equal.</p>
<p>This can be achieved by adding a size class variation to the Equal Height Constraint. In the left side toolbar click on the <code>GreenView.height = 0.5 × Safe Area.height</code> constraint, in the right side drawer under the Attribute inspector the constraint is <em>Installed</em>, unticking this option uninstalls the constraint. To the left side is a <code>+</code> button, Clicking on the button brings up the option to add a Variation based on the height, width and Gamut. Selecting Width: Any, Height: Regular will introduce a variation. </p>
<p></p>
<p><img src='images/half-in-portrait.png' alt='Half in portrait' /></p>
<p></p>
<p>Notice the constraint has been uninstalled and Installed for hR, this means the constraint will any apply to regular heights.</p>
<p>On the iPhone, All devices in Portrait have the Size class of hR wC and in landscape hC wC.</p>
<p>Setting the height to be equal in landscape can be achieved by having two constraints with variations.</p>
<p></p>
<p><img src='images/half-full-size-variation.png' alt='Half size variation' /></p>
<p></p>
<p><strong>Task 2</strong> </p>
<p>Create a new project called LayoutApp2, implement the above example about applying all constraints However in landscape have the GreenView width to be half Safe Area and in portrait have the width to be equal. The GreenView should be Zero Aligned on the top, left and bottom to the safe area. Test to make sure that the project Works in Landscape and Portrait.</p>
<p></p>
<h3>Stack Views</h3>
<p>Stack views allows for creating more complicated layouts quicker and easier.</p>
<p></p>
<p><img src='images/stackview.png' alt='Stackview' /></p>
<p></p>
<p>Consider the above layout, to draw this layout using Alignment and Equal Height Constraints would require the following constraints</p>
<ol start='' >
<li>Equal Heights for each view</li>
<li>A view with a relative height to the Safe Area</li>
<li>Width Constraint for each View</li>
<li>Leading Each Constraint</li>
<li>Vertical Space Constraints for each view</li>
<li>any probably some more...</li>

</ol>
<p>If after creating these constraints another view needed to be added to the layout, it would not be simple, this is where Stack Views come in.</p>
<p>Stack Views have the following properties:</p>
<p><strong>Alignment</strong></p>
<p>How each view is aligned to each edge</p>
<p><strong>Axis</strong></p>
<p>How the views within the Stack View are <em>Stacked</em>, this can be horizontally (side by side) or vertically (on top of each other)</p>
<p><strong>Spacing</strong></p>
<p>How much space is between each of the views</p>
<p><strong>Distribution</strong></p>
<p>How each View will fill the available space within the Stack View</p>
<p></p>
<p>To create the above example, three Views will be placed onto a root view, theses sub Views are called GreenView, RedView and BlueView. </p>
<p></p>
<p><img src='images/embed-in-stack.png' alt='Embed in Stack View' /></p>
<p></p>
<p>To place the views within a Stack View, on the bottom toolbar click on the circled button in the image above, the three views are now sub Views of a Stack View.</p>
<p></p>
<p><img src='images/stack-view-created-with-errors.png' alt='Stack view created' /></p>
<p></p>
<p>In the Attribute inspector of the Stack View you can see the axis, alignment, distribution and spacing properties.</p>
<p></p>
<p><strong>Task 3</strong></p>
<p>Create a new project called LayoutApp3, implement the above example, in addition figure out how to add the following:</p>
<ul>
<li><p>Zero Top, Bottom, Leading and trailing edge constraints on the StackView to the Safe Area</p>
</li>
<li><p>Distribute the views equally so that each views height is equal</p>
</li>
<li><p>Introduce some spacing between the views</p>
</li>
<li><p>Add a Variation on the Axis so that in landscape the views are Horizontal</p>
<p>​</p>
</li>

</ul>
<p><img src='images/stackview-horizontal.png' alt='Horizontal Stack View' /></p>
<p></p>
<p>Test to make sure that the project Works in Landscape and Portrait, and respect the safe area.</p>
<p></p>
<h3>Intrinsic Size</h3>
<p>Sometimes the size of views isn&#39;t always known before runtime, for example, when downloading information from the internet.</p>
<p>This can be achieved using <em>Intrinsic Content Size</em>, the intrinsic content size is dynamic and will be calculated at runtime; this is an <em>implicit</em> constraint verses the <em>explicit</em> constraints described above.</p>
<p>Not every view has intrinsic content sizing, such as the <code>UIView</code> class, however <code>UILabel</code> and <code>UIImageView</code> do, allowing for downloading of variable length strings and images of differing dimensions from the internet to be able to render correctly at runtime.</p>
<p></p>
<h3>Content Hugging &amp; Content Compression Resistance Priority</h3>
<p>Intrinsic content sizes can conflict with other intrinsic content size views, for example, multiple <code>UILabel</code> instances stacked horizontally. In this scenario, which label gets &quot;Priority&quot;.</p>
<p>A views priority can be described two ways, first by using the <strong>Content Hugging</strong> priority, which says that a view may not grow and is &quot;Hugged&quot;. With a higher priority, the more resistance to growth beyond the intrinsic size is applied to the view.</p>
<p>The second, <strong>Compression Resistance</strong> priority which describes how the view will &quot;Resist&quot; being compressed by other views intrinsic size class. The higher the priority, the more the view will resist being compressed or &quot;made smaller&quot; than its intrinsic size.</p>
<p></p>
<p><img src='images/resistance-hugging.png' alt='Resistance &amp; Hugging' /></p>
<p></p>
<p></p>
<p></p>
<p></p>
</body>
</html>